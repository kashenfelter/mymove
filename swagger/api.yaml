swagger: '2.0'
info:
  description: The public API for my.move.mil. This is a work in-progress, and is not a final product. We will be continuously updating this site based on feedback.
  version: 0.0.1
  title: my.move.mil
  license:
    name: MIT
    url: https://github.com/transcom/mymove/blob/master/LICENSE.md
basePath: /api/v1
consumes:
  - application/json
produces:
  - application/json
definitions:
  Shipment:
    $ref: ./definitions/shipment.yaml#/Shipment
  ShipmentMarket:
    $ref: ./definitions/shipment.yaml#/ShipmentMarket
  Move:
    $ref: ./definitions/move.yaml#/Move
  DutyStation:
    $ref: ./definitions/move.yaml#/DutyStation
  SelectedMoveType:
    $ref: ./definitions/move.yaml#/SelectedMoveType
  MoveStatus:
    $ref: ./definitions/move_status.yaml#/MoveStatus
  ServiceMember:
    $ref: ./definitions/service_member.yaml#/ServiceMember
  Affiliation:
    $ref: ./definitions/service_member.yaml#/Affiliation
  ServiceMemberRank:
    $ref: ./definitions/service_member_rank.yaml#/ServiceMemberRank
  BackupContactPermission:
    $ref: ./definitions/service_member.yaml#/BackupContactPermission
  ServiceMemberBackupContact:
    $ref: ./definitions/service_member.yaml#/ServiceMemberBackupContact
  MoveDocuments:
    type: array
    items:
      $ref: '#/definitions/MoveDocumentPayload'
  MoveDocumentPayload:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      shipment_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        x-nullable: true
      document:
        $ref: '#/definitions/DocumentPayload'
      title:
        type: string
        example: very_useful_document.pdf
        title: Document Title
      move_document_type:
        $ref: '#/definitions/MoveDocumentType'
      status:
        $ref: '#/definitions/MoveDocumentStatus'
      notes:
        type: string
        example: This document is good to go!
        x-nullable: true
        title: Notes
    required:
      - id
      - shipment_id
      - document
      - title
      - move_document_type
      - status
  CreateGenericMoveDocumentPayload:
    type: object
    properties:
      shipment_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        x-nullable: true
      upload_ids:
        type: array
        items:
          type: string
          format: uuid
          example: c56a4180-65aa-42ec-a945-5fd21dec0538
      title:
        type: string
        example: very_useful_document.pdf
      move_document_type:
        $ref: '#/definitions/MoveDocumentType'
      notes:
        type: string
        example: This document is good to go!
        x-nullable: true
        title: Notes
    required:
      - upload_ids
      - title
      - move_document_type
  MoveDocumentStatus:
    type: string
    title: Document Status
    enum:
      - AWAITING_REVIEW
      - OK
      - HAS_ISSUE
    x-display-value:
      AWAITING_REVIEW: Awaiting review
      OK: OK
      HAS_ISSUE: Has issue
  DocumentPayload:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      uploads:
        type: array
        items:
          $ref: '#/definitions/UploadPayload'
    required:
      - id
      - uploads
  UploadPayload:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      url:
        type: string
        format: uri
        example: https://uploads.domain.test/dir/c56a4180-65aa-42ec-a945-5fd21dec0538
      filename:
        type: string
        format: string
        example: filename.pdf
      content_type:
        type: string
        format: mime-type
        example: application/pdf
      bytes:
        type: integer
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
    required:
      - id
      - url
      - filename
      - content_type
      - bytes
      - created_at
      - updated_at
  Tariff400ngItemLocation:
    type: string
    title: Location
    enum:
      - ORIGIN
      - DESTINATION
      - NEITHER
      - EITHER
    x-display-value:
      ORIGIN: Origin
      DESTINATION: Destination
      NEITHER: Neither
      EITHER: Either
  ShipmentLineItemLocation:
    type: string
    title: Location
    enum:
      - ORIGIN
      - DESTINATION
      - NEITHER
    x-display-value:
      ORIGIN: Origin
      DESTINATION: Destination
      NEITHER: Neither
  ShipmentLineItemStatus:
    type: string
    title: Status
    enum:
      - SUBMITTED
      - APPROVED
      - INVOICED
    x-display-value:
      SUBMITTED: Submitted
      APPROVED: Approved
      INVOICED: Invoiced
  InvoiceStatus:
    type: string
    title: Status
    enum:
      - DRAFT
      - IN_PROCESS
      - SUBMITTED
      - SUBMISSION_FAILURE
    x-display-value:
      DRAFT: Draft
      IN_PROCESS: In Process
      SUBMITTED: Submitted
      SUBMISSION_FAILURE: Submission Failure
  Tariff400ngItems:
    type: array
    items:
      $ref: '#/definitions/Tariff400ngItem'
  Tariff400ngItem:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      code:
        type: string
        title: Code
        example: 105B
      discount_type:
        type: string
        title: Discount
        example: dHHG
      location:
        $ref: '#/definitions/Tariff400ngItemLocation'
      item:
        type: string
        title: Item
        example: Linehaul Transportation
      uom_1:
        type: string
        title: 1st UOM
        example: Days
      uom_2:
        type: string
        title: 2nd UOM
        example: Net Billing Weight
      ref_code:
        type: string
        title: Reference Code
        example: Point Schedule
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
      requires_pre_approval:
        type: boolean
        title: Requires pre-approval
  Invoices:
    type: array
    items:
      $ref: '#/definitions/Invoice'
  Invoice:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      shipment_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      status:
        $ref: '#/definitions/InvoiceStatus'
      approver_first_name:
        type: string
        example: 'Janine'
      approver_last_name:
        type: string
        example: 'Smith'
      invoiced_date:
        type: string
        title: Invoiced date
        format: date-time
      invoice_number:
        type: string
        example: '12432'
  ShipmentLineItems:
    type: array
    items:
      $ref: '#/definitions/ShipmentLineItem'
  ShipmentLineItem:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      shipment_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      tariff400ng_item:
        $ref: '#/definitions/Tariff400ngItem'
      tariff400ng_item_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      quantity_1:
        type: integer
        format: basequantity
        title: Base Quantity
        description: 1st Tariff400ngItem base quantity
        minimum: 0
        example: 167000
      quantity_2:
        type: integer
        format: basequantity
        title: 2nd Quantity
        description: 2nd Tariff400ngItem base quantity
        minimum: 0
        example: 10000
      applied_rate:
        type: integer
        format: millicents
        minimum: 0
        x-nullable: true
        description: unit is millicents
      location:
        $ref: '#/definitions/ShipmentLineItemLocation'
      notes:
        type: string
        format: textarea
        title: Notes
        example: Mounted deer head measures 23" x 34" x 27"; crate will be 16.7 cu ft
      status:
        $ref: '#/definitions/ShipmentLineItemStatus'
      invoice_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        x-nullable: true
      amount_cents:
        type: integer
        format: cents
        minimum: 1
        title: Amount
        description: unit is cents
        x-nullable: true
      submitted_date:
        type: string
        title: Submitted Date
        format: date-time
      approved_date:
        type: string
        title: Approved Date
        format: date-time
        x-nullable: true
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
    required:
      - tariff400ng_item_id
      - quantity_1
      - location
  Address:
    $ref: ./definitions/address.yaml#/Address
  IndexBlackoutsPayload:
    type: array
    items:
      $ref: '#/definitions/BlackoutPayload'
  CreateBlackoutPayload:
    type: object
    properties:
      start_date:
        type: string
        description: the first day to blackout
        format: date
        example: 2018-10-21
      end_date:
        type: string
        description: the first day after the blackout ends
        format: date
        example: 2018-10-29
      gbloc:
        $ref: '#/definitions/GBLOC'
      zip3:
        type: string
        description: restricts the search to blackout periods with an explicit source rate area (zip3)
        example: 941
        pattern: '^[0-9]{3}$'
      channel:
        $ref: '#/definitions/Channel'
      market:
        $ref: ./definitions/shipment.yaml#/ShipmentMarket
      code_of_service:
        $ref: '#/definitions/CodeOfService'
    required:
      - start_date
      - end_date
  BlackoutPayload:
    type: object
    properties:
      id:
        type: string
        description: unique id of the blackout in the system
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      tsp_id:
        type: string
        description: ID of the TSP filing this blackout
        format: uuid
      start_date:
        type: string
        description: the first day to blackout
        format: date
        example: 2018-10-21
      end_date:
        type: string
        description: the first day after the blackout ends
        format: date
        example: 2018-10-29
      gbloc:
        $ref: '#/definitions/GBLOC'
      zip3:
        type: string
        description: restricts the search to blackout periods with an explicit source rate area (zip3)
        example: 941
        pattern: '^[0-9]{3}$'
      channel:
        $ref: '#/definitions/Channel'
      market:
        $ref: ./definitions/shipment.yaml#/ShipmentMarket
      code_of_service:
        $ref: '#/definitions/CodeOfService'
    required:
      - start_date
      - end_date
  Channel:
    type: object
    description: The channel (pickup location & destination region)
    properties:
      origin:
        type: string
        enum: # Add other values
          - US49
        example: US49
      destination:
        type: string
        enum: # Add other values
          - REGION_6
        example: REGION_6
  Document:
    type: object
    description: A document is one or more uploaded files (usually images or PDFs) which can be associated with a shipment
    properties:
      id:
        type: string
        format: uuid
        description: Unique ID for this document within the system
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      name:
        type: string
        description: Human readable name for the document
        example: Preload Weight Ticket 2017-10-21
        maxLength: 1024
      uploads:
        type: array
        items:
          $ref: '#/definitions/DocumentUpload'
      created:
        type: string
        format: dateTime
        example: 2018-04-12T23:20:50.52Z
        description: When the document was created
      last_modified:
        type: string
        format: dateTime
        example: 2018-04-12T23:22:30.52Z
        description: When the document was last added to
      upload_url:
        type: string
        format: uri
        example: https://test_api.move.mil/api/v1/documents/c56a4180-65aa-42ec-a945-5fd21dec0538/uploads
        description: Location to which uploads should be posted.
    required:
      - name
  DocumentUpload:
    type: object
    description: Details of a file uploaded as part of a Document. Usually, but not always, an image or PDF
    properties:
      id:
        type: string
        format: uuid
        description: Unique ID for this object
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      name:
        type: string
        description: Human readable name for the document
        example: Page 3
        maxLength: 1024
      uploaded:
        type: string
        format: dateTime
        description: When the Upload was created
        example: 2018-04-12T23:22:30.52Z
      mime_type:
        type: string
        description: The mime type for the file
        example: 'application/pdf'
        enum:
          - application/pdf
          - image/jpeg
          - image/png
    required:
      - name
  Claim:
    type: object
    description: A claim resulting from an earlier shipment
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      shipment_id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      claim_date:
        type: string
        format: dateTime
        example: 2018-04-12T23:20:50.52Z
      description:
        type: string
        example: 'During shipment the Grandfather clock was dropped resulting in a break to the glass in front of the face'
  CodeOfService:
    type: string
    description: Code for service provided by a TSP
    enum:
      - COS_D
      - COS_2
      - COS_4
      - COS_5
      - COS_6
      - COS_T
      - COS_7
      - COS_8
      - COS_J
      - COS_B
      - COS_H
      - COS_S
    x-display-value:
      COS_D: Loose or containerized household goods CONUS
      COS_2: Moving household goods in containers CONUS
      COS_4: International Door to Door
      COS_5: International Door to Door Container Government Ocean Transport
      COS_6: International Door to Door Air Container
      COS_T: International Door to Door; Air Mobility Command (AMC)
      COS_7: International Land-Water-Land Baggage
      COS_8: International Land-Air-Land Baggage
      COS_J: International Land-Air (AMC)-Land Baggage
      COS_B: Tow-away boat
      COS_H: Haul-away boat
      COS_S: Mobile Home (CONUS)
  Customer:
    type: object
    description: The person moving
    properties:
      given_name:
        type: string
        example: Mary
      family_name:
        type: string
        example: Johnson
  GBLOC:
    $ref: ./definitions/gbloc.yaml#/GBLOC
  IndexShipments:
    type: array
    items:
      $ref: '#/definitions/Shipment'
  MoveDocumentType:
    type: string
    title: Document Type
    example: WEIGHT_TICKET
    enum: &MOVEDOCUMENTTYPE
      - WEIGHT_TICKET
      - WEIGHT_TICKET_REWEIGH
      - ORIGIN_PACKET
      - ORIGIN_619
      - ORIGIN_INVENTORY
      - DESTINATION_PACKET
      - DESTINATION_619
      - DESTINATION_619_1
      - DESTINATION_INVENTORY
      - THIRD_PARTY_INVOICE
      - THIRD_PARTY_ESTIMATE
      - NOTICE_OF_LOSS_OR_DAMAGE
      - FIREARMS_CHAIN_OF_CUSTODY
      - PHOTO
      - OTHER
    x-display-value:
      WEIGHT_TICKET: Weight ticket
      WEIGHT_TICKET_REWEIGH: Weight ticket reweigh
      ORIGIN_PACKET: Origin packet
      ORIGIN_619: Origin 619
      ORIGIN_INVENTORY: Origin inventory
      DESTINATION_PACKET: Destination packet
      DESTINATION_619: Destination 619
      DESTINATION_619_1: Origin 619-1
      DESTINATION_INVENTORY: Destination inventory
      THIRD_PARTY_INVOICE: 3rd-party invoice
      THIRD_PARTY_ESTIMATE: 3rd-party estimate
      NOTICE_OF_LOSS_OR_DAMAGE: 1850 - Notice of loss/damage
      FIREARMS_CHAIN_OF_CUSTODY: Firearms chain of custody
      PHOTO: Photo
      OTHER: Other document type
  ServiceAgentRole:
    type: string
    title: Service Agent Role
    enum:
      - ORIGIN
      - DESTINATION
    x-display-value:
      ORIGIN: Origin
      DESTINATION: Destination
  IndexServiceMemberBackupContacts:
    type: array
    items:
      $ref: '#/definitions/ServiceMemberBackupContact'
  ServiceMemberBackupContact:
    $ref: ./definitions/service_member.yaml#/ServiceMemberBackupContact
  TrafficDistributionList:
    type: object
    properties:
      source_rate_area:
        type: string
        example: US34
      destination_region:
        type: string
        example: '5'
      code_of_service:
        type: string
        example: D
        enum:
          - D
          - '2'
    required:
      - source_rate_area
      - destination_region
      - code_of_service
  TransportationServiceProvider:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: 2a6a4180-65aa-42ec-a945-5fd21dec0538
        readOnly: true
      standard_carrier_alpha_code:
        type: string
        example: '51980581983'
        x-nullable: true
        title: SCAC
      enrolled:
        type: boolean
        default: false
      name:
        type: string
        example: 'EXTRA Good TSP'
        x-nullable: true
        title: Name
      poc_general_name:
        type: string
        example: 'Jon Bon Jovi'
        x-nullable: true
      poc_general_email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        description: Email used to contact shipping agent
        example: jenny_tsp@example.com
        x-nullable: true
        title: Email
      poc_general_phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 303-867-5309
        x-nullable: true
        title: Phone Number
      poc_claims_name:
        type: string
        example: 'Tupac Shakur'
        x-nullable: true
      poc_claims_email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        description: Email used to contact shipping agent
        example: tupac_tsp@example.com
        x-nullable: true
        title: Email
      poc_claims_phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 404-827-5309
        x-nullable: true
        title: Phone Number
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
    required:
    - standard_carrier_alpha_code
    - enrolled
  IndexServiceAgents:
    type: array
    items:
      $ref: '#/definitions/ServiceAgent'
  ServiceAgent:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
        readOnly: true
      shipment_id:
        type: string
        format: uuid
        readOnly: true
      role:
        $ref: '#/definitions/ServiceAgentRole'
      company:
        type: string
        example: ACME Movers
        title: Company
      email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        description: Email used to contact shipping agent
        example: jenny_acme@example.com
        x-nullable: true
        title: Email
      phone_number:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 303-867-5309
        x-nullable: true
        title: Phone Number
      fax_number:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 303-867-5310
        x-nullable: true
        title: Fax Number
      email_is_preferred:
        type: boolean
        x-nullable: true
        title: Email Is Preferred
      phone_is_preferred:
        type: boolean
        x-nullable: true
        title: Phone Is Preferred
      notes:
        type: string
        x-nullable: true
        example: This service agent is available at all hours
        title: Notes
      created_at:
        type: string
        format: date-time
      updated_at:
        type: string
        format: date-time
    required:
      - role
      - company
  ShipmentContactDetails:
    type: object
    description: Contact details for customer for Shipment
    properties:
      primary_name:
        type: string
        description: Name of the primary contact person
        example: Mike Jackson
      primary_title:
        type: string
        example: Lt. Colonel
        description: title of primary contact
      primary_phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 212-555-1212
      primary_email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        description: Email of primary contact person
        example: mjackson@gmail.com
      secondary_name:
        type: string
        example: Mary Jackson
      secondary_title:
        type: string
        example: Wing Commander
      secondary_phone:
        type: string
        format: telephone
        pattern: '^[2-9]\d{2}-\d{3}-\d{4}$'
        example: 212-555-1213
      secondary_email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        description: Email of secondary contact person
        example: jackson_flies@gmail.com
  ShipmentDates:
    type: object
    description: The various dates associated with a shipment
    properties:
      requested_pack:
        type: string
        format: date
        example: 2018-03-15
      requested_pickup:
        type: string
        format: date
        example: 2018-03-15
      requested_latest_pickup:
        type: string
        format: date
        example: 2018-03-15
      requested_delivery:
        type: string
        format: date
        example: 2018-03-15
      planned_pack:
        type: string
        format: date
        example: 2018-03-15
      planned_pickup:
        type: string
        format: date
        example: 2018-03-15
      planned_latest_pickup:
        type: string
        format: date
        example: 2018-03-15
      planned_delivery:
        type: string
        format: date
        example: 2018-03-15
      scheduled_delivery:
        type: string
        format: date
        example: 2018-03-15
      required_delivery:
        type: string
        format: date
        example: 2018-03-15
      actual_pack:
        type: string
        format: date
        example: 2018-03-15
      actual_pickup_date:
        type: string
        format: date
        example: 2018-03-15
      actual_delivery:
        type: string
        format: date
        example: 2018-03-15
  TransportPayload:
    type: object
    properties:
      actual_pickup_date:
        type: string
        format: date
        example: '2018-04-02'
        title: Actual Pickup Date
        x-nullable: true
      actual_pack_date:
        type: string
        format: date
        example: '2018-04-02'
        title: Actual Pack Date
        x-nullable: true
      net_weight:
        type: integer
        description: Actual net weight of the shipment in lbs
        minimum: 0
        example: 10000
        x-nullable: true
        x-formatting: weight
        title: Net
      gross_weight:
        type: integer
        description: Gross weight of the shipment in lbs
        minimum: 0
        example: 10000
        x-nullable: true
        x-formatting: weight
        title: Gross
      tare_weight:
        type: integer
        description: Tare weight of the shipment in lbs
        minimum: 0
        example: 10000
        x-nullable: true
        x-formatting: weight
        title: Tare
    required:
      - actual_pickup_date
      - actual_pack_date
      - net_weight
  ActualDeliveryDate:
    type: object
    properties:
      actual_delivery_date:
        type: string
        format: date
        example: '2018-04-02'
        x-nullable: true
        title: Actual Delivery Date
    required:
      - actual_delivery_date
  TSP:
    type: object
    description: The primary definition of a Transport Service Provider
    properties:
      id:
        type: string
        format: uuid
        example: c56a4180-65aa-42ec-a945-5fd21dec0538
      name:
        type: string
        example: Moving Company, Inc.
        minLength: 1
        maxLength: 1024
      scac:
        type: string
        description: The SCAC associated with the TSP
        format: '^[A-Z]{2,4}$'
        example: USPS
      contact_email:
        type: string
        format: x-email
        pattern: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        example: john_bob@example.com
  InvalidRequestResponsePayload:
    type: object
    properties:
      errors:
        type: object
        additionalProperties:
          type: string
paths:
  /tariff_400ng_items:
    get:
      summary: Retrieve list of 400ng items
      description: Gets a list of all 400ng items.
      operationId: getTariff400ngItems
      tags:
        - accessorials
      parameters:
        - in: query
          name: requires_pre_approval
          type: boolean
          default: false
          description: restricts the list to only items that require pre-approval
      responses:
        200:
          description: list of tariff 400ng items
          schema:
            $ref: '#/definitions/Tariff400ngItems'
        400:
          description: invalid request
        401:
          description: not authorized to get list of tariff 400ng items
        500:
          description: server error
  /blackouts:
    get:
      summary: retrieve a list of blacked out dates (for accessible TSPs)
      description: Gets a list of blackout periods which the current user can see
      operationId: indexBlackouts
      tags:
        - blackouts
      parameters:
        - in: query
          name: start_date
          type: string
          format: date
          description: restricts the search to blackout periods for which the endDate is after this date
        - in: query
          name: end_date
          type: string
          format: date
          description: restricts the search to blackout periods which startDate is before this date
        - in: query
          name: gbloc
          type: string
          description: restricts the search to return blackout periods which originate from this GBLOC
          pattern: '^[A-Z]{4}$'
        - in: query
          name: source_service_area
          type: string
          description: restricts the search to blackout periods with an explicit source rate area (zip3)
      responses:
        200:
          description: list of associated blackouts
          schema:
            $ref: '#/definitions/IndexBlackoutsPayload'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        500:
          description: server error
    post:
      summary: Adds a new Blackout period to the list of blackouts
      description: This is used to create a new blackout. When posting to this URL the payload Blackout should not
        contain an ID as this will be created when it is added to the DB.  Supplying this fields in the payload will
        result in a 400 bad request. The TSP ID will be inferred from the authenticated account making the request.

        At least one of GBLOC, zip3, Channel/COS or Market must be supplied. If more than one of these fields are supplied
        they will be AND'd together, i.e. GBLOC, Channel will restrict to shipments in the particular Channel which
        originate in the given GBLOC.
      operationId: createBlackout
      tags:
        - blackouts
      x-access: Access to this endpoint is restricted to members of the Admin, Transcom and JPPSO user groups along with the agents of the TSP.
      parameters:
        - in: body
          description: The blackout period to add
          name: payload
          required: true
          schema:
            $ref: '#/definitions/CreateBlackoutPayload'
      responses:
        201:
          description: The blackout as added to the database including DB ID
          schema:
            $ref: '#/definitions/BlackoutPayload'
        400:
          description: invalid request
        403:
          description: not authorized to create blackouts
        500:
          description: server error
  /blackouts/{blackoutId}:
    get:
      summary: retrieve the details of a blackout period
      operationId: getBlackout
      tags:
        - blackouts
      parameters:
        - in: path
          name: blackoutId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the blackout
      responses:
        200:
          description: the details of the requested blackout period
          schema:
            $ref: '#/definitions/BlackoutPayload'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access the associated blackout
        404:
          description: no blackout found with that UUID
        500:
          description: server error
    patch:
      summary: update the associated blackout
      operationId: patchBlackout
      tags:
        - blackouts
      parameters:
        - in: path
          name: blackoutId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the blackout
        - in: body
          name: update
          required: true
          schema:
            $ref: '#/definitions/BlackoutPayload'
      responses:
        200:
          description: the blackout was successfully updated
          schema:
            $ref: '#/definitions/BlackoutPayload'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access the associated blackout
        404:
          description: no blackout found with that UUID
        500:
          description: server error
    delete:
      summary: delete the associated blackout period
      operationId: deleteBlackout
      tags:
        - blackouts
      parameters:
        - in: path
          name: blackoutId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the blackout
      responses:
        200:
          description: the blackout was successfully deleted
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access the associated blackout
        404:
          description: no blackout found with that UUID
        500:
          description: server error
  /shipments/{shipmentId}/documents:
    get:
      summary: Returns a list of all Move Documents associated with this move
      description: Returns a list of all Move Documents associated with this move
      operationId: indexMoveDocuments
      tags:
        - move_docs
      parameters:
        - in: path
          name: shipmentId
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: returns list of move documents
          schema:
            $ref: '#/definitions/MoveDocuments'
        400:
          description: invalid request
        401:
          description: request requires user authentication
        403:
          description: user is not authorized
    post:
      summary: Creates a move document
      description: Created a move document with the given information
      operationId: createGenericMoveDocument
      tags:
        - move_docs
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - in: body
          name: createGenericMoveDocumentPayload
          required: true
          schema:
            $ref: '#/definitions/CreateGenericMoveDocumentPayload'
      responses:
        200:
          description: returns new move document object
          schema:
            $ref: '#/definitions/MoveDocumentPayload'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to modify this move
        500:
          description: server error
  /shipments/{shipmentId}/documents/{moveDocumentId}:
    put:
      summary: Updates a move document
      description: Update a move document with the given information
      operationId: updateMoveDocument
      tags:
        - move_docs
      parameters:
        - in: path
          name: shipmentId
          type: string
          format: uuid
          required: true
          description: UUID of the shipment model
        - in: path
          name: moveDocumentId
          type: string
          format: uuid
          required: true
          description: UUID of the move document model
        - in: body
          name: updateMoveDocument
          required: true
          schema:
            $ref: '#/definitions/MoveDocumentPayload'
      responses:
        200:
          description: updated instance of move document
          schema:
            $ref: '#/definitions/MoveDocumentPayload'
        400:
          description: invalid request
        401:
          description: request requires user authentication
        403:
          description: user is not authorized
        404:
          description: move document not found
        500:
          description: internal server error
  /uploads/{uploadId}:
    delete:
      summary: Deletes an upload
      description: Uploads represent a single digital file, such as a JPEG or PDF.
      operationId: deleteUpload
      tags:
        - uploads
      parameters:
        - in: path
          name: uploadId
          type: string
          format: uuid
          required: true
          description: UUID of the upload to be deleted
      responses:
        204:
          description: deleted
        400:
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        403:
          description: not authorized
        404:
          description: not found
        500:
          description: server error
  /uploads:
    post:
      summary: Create a new upload
      description: Uploads represent a single digital file, such as a JPEG or PDF.
      operationId: createUpload
      tags:
        - uploads
      consumes:
        - multipart/form-data
      parameters:
        - in: query
          name: documentId
          type: string
          format: uuid
          required: false
          description: UUID of the document to add an upload to
        - in: formData
          name: file
          type: file
          description: The file to upload.
          required: true
      responses:
        201:
          description: created upload
          schema:
            $ref: '#/definitions/UploadPayload'
        400:
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        403:
          description: not authorized
        404:
          description: not found
        500:
          description: server error
    delete:
      summary: Deletes a collection of uploads
      description: Uploads represent a single digital file, such as a JPEG or PDF.
      operationId: deleteUploads
      tags:
        - uploads
      parameters:
        - in: query
          name: uploadIds
          type: array
          items:
            type: string
            format: uuid
          required: true
          description: Array of UUIDs to be deleted
      responses:
        204:
          description: deleted
        400:
          description: invalid request
          schema:
            $ref: '#/definitions/InvalidRequestResponsePayload'
        403:
          description: not authorized
        404:
          description: not found
        500:
          description: server error
  /shipments:
    get:
      summary: Gets visible shipments
      description: Allows a user to retrieve a list of shipments. The shipments are restricted to those they have authorization to view
      operationId: indexShipments
      tags:
        - shipments
      parameters:
        - name: status
          in: query
          type: array
          items:
            type: string
            enum:
              - DRAFT
              - SUBMITTED
              - AWARDED
              - ACCEPTED
              - APPROVED
              - IN_TRANSIT
              - DELIVERED
              - COMPLETED
          collectionFormat: csv
          description: Restrict the list to shipments with matching ShipmentStatus
        - name: order_by
          in: query
          type: string
          description: Sort the returned list according to this ordering
          enum:
            - PICKUP_DATE_ASC
            - PICKUP_DATE_DESC
            - DELIVERY_DATE_ASC
            - DELIVERY_DATE_DESC
        - name: limit
          in: query
          type: integer
          description: maximum number of records to return
          minimum: 1
          default: 25
        - name: offset
          in: query
          type: integer
          description: offset into records to select from. Actual offset is this value multiplied by limit.
          minimum: 1
          default: 1
      responses:
        200:
          description: returns an array of Shipments
          schema:
            $ref: '#/definitions/IndexShipments'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to list these shipments
        422:
          description: cannot process request with given information
        500:
          description: server error
  /shipments/{shipmentId}:
    get:
      summary: Gets a particular shipment
      description: Allows a user to retrieve the details of a particular shipment
      operationId: getShipment
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: returns the details of the shipment
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to see the details of this shipment
        404:
          description: shipment UUID not found in system
        500:
          description: server error
    patch:
      summary: Updates a particular shipment
      description: Takes a partial Shipment object and replaces the fields in the DB with the ones passed in the body
      operationId: patchShipment
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - name: update
          in: body
          required: true
          schema:
            $ref: '#/definitions/Shipment'
      responses:
        200:
          description: returns the details of the shipment
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to update the details of this shipment
        404:
          description: shipment UUID not found in system
        500:
          description: server error
  /shipments/{shipmentId}/service_agents:
    get:
      summary: Gets service agents for shipment
      description: Allows a user to retrieve a list of service agents for a shipment.
      operationId: indexServiceAgents
      tags:
        - service_agents
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: returns an array of Service Agents
          schema:
            $ref: '#/definitions/IndexServiceAgents'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to list these shipments
        422:
          description: cannot process request with given information
        500:
          description: server error
    post:
      summary: Create a Service Agent
      description: Creates a new Service Agent associated with a shipment
      operationId: createServiceAgent
      tags:
        - service_agents
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - name: serviceAgent
          in: body
          required: true
          description: Service Agent information
          schema:
            $ref: '#/definitions/ServiceAgent'
      responses:
        200:
          description: returns a Service Agent with UUID.
          schema:
            $ref: '#/definitions/ServiceAgent'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to add documents to this shipment
        500:
          description: server error
  /shipments/{shipmentId}/service_agents/{serviceAgentId}:
    patch:
      summary: Updates a particular service agent
      description: Takes a partial service agent object and replaces the fields in the DB with the ones passed int he body
      operationId: patchServiceAgent
      tags:
        - service_agents
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - name: serviceAgentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the service agent
        - name: patchServiceAgentPayload
          in: body
          required: true
          schema:
            $ref: '#/definitions/ServiceAgent'
      responses:
        200:
          description: returns the details of the service agent
          schema:
            $ref: '#/definitions/ServiceAgent'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to update the details of this service agent
        404:
          description: service agent UUID not found in system
        500:
          description: server error
    delete:
      summary: delete the service agent related to the shipment
      operationId: deleteServiceAgent
      tags:
        - service_agents
      parameters:
        - in: path
          name: shipmentId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the shipment
        - in: path
          name: serviceAgentId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the service_agent
      responses:
        200:
          description: the service agent was successfully deleted
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access the associated service agent
        404:
          description: no service agent found with that UUID
        500:
          description: server error
  /shipments/{shipmentId}/transportation_service_provider:
    get:
      summary: Gets transportation service provider for shipment
      description: Allows a user to retrieve the transportation service provider for a shipment.
      operationId: getTransportationServiceProvider
      tags:
        - transportation_service_provider
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: returns a Transporation Service Provider
          schema:
            $ref: '#/definitions/TransportationServiceProvider'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to list these shipments
        422:
          description: cannot process request with given information
        500:
          description: server error
  /shipment/{shipmentId}/completePmSurvey:
    post:
      summary: Completes a pre-move survey on a shipment
      description: Sets the pre-move survey as completed. Completion date will be recorded on shipment.
      operationId: completePmSurvey
      tags:
      - shipments
      parameters:
      - name: shipmentId
        in: path
        type: string
        format: uuid
        required: true
        description: UUID of the move
      responses:
        200:
          description: returns updated shipment object
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to complete this pre-move survey
        500:
          description: server error
  /shipments/{shipmentId}/accept:
    post:
      summary: Accepts an awarded shipment
      description: Accepts a shipment awarded to a TSP. The status of the shipment will be updated to ACCEPTED.
      operationId: acceptShipment
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: returns updated (accepted) shipment object
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to accept this shipment
        409:
          description: the shipment is not in a state to be accepted
          schema:
            $ref: '#/definitions/Shipment'
        500:
          description: server error
  /shipments/{shipmentId}/transport:
    post:
      summary: Places an accepted shipment into transit state
      description: Places a shipment accepted by a TSP in transit. The status of the shipment will be updated to IN_TRANSIT and the pickup date will be set.
      operationId: transportShipment
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - in: body
          name: payload
          required: true
          schema:
            $ref: '#/definitions/TransportPayload'
      responses:
        200:
          description: returns updated (in_transit) shipment object
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to accept this shipment
        409:
          description: the shipment is not in a state to be accepted
          schema:
            $ref: '#/definitions/Shipment'
        500:
          description: server error
  /shipments/{shipmentId}/deliver:
    post:
      summary: Places an in transit shipment to delivered state
      description: The status of the shipment will be updated to DELIVERED.
      operationId: deliverShipment
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - in: body
          name: payload
          required: true
          schema:
            $ref: '#/definitions/ActualDeliveryDate'
      responses:
        200:
          description: returns updated (delivered) shipment object
          schema:
            $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to accept this shipment
        409:
          description: the shipment is not in a state to be delivered
          schema:
            $ref: '#/definitions/Shipment'
        500:
          description: server error
  /shipments/{shipmentId}/claims:
    get:
      summary: Gets the list of claims associated with a shipment
      operationId: getShipmentClaims
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment for which contact details are requested
      responses:
        200:
          description: returns contact details for the shipment
          schema:
            type: array
            items:
              $ref: '#/definitions/Claim'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access this shipment
        500:
          description: server error
  /shipments/{shipmentId}/contact_details:
    get:
      summary: Gets the detailed contact information for a move
      description: Gets the detailed contact information for a move
      operationId: getShipmentContactDetails
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment for which contact details are requested
      responses:
        200:
          description: returns contact details for the shipment
          schema:
            $ref: '#/definitions/ShipmentContactDetails'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access this shipment
        500:
          description: server error
  /shipments/{shipmentId}/gov_bill_of_lading:
    post:
      summary: Creates a new government bill of lading (form 1203) document associated with a shipment
      description: Creates a move document for a GBL and stores it
      operationId: createGovBillOfLading
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        201:
          description: successfully created GBL move document for shipment
          schema:
            $ref: '#/definitions/MoveDocumentPayload'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to add documents to this shipment
        417:
          description: failed to meet data requirements for GBL form to be built
        500:
          description: server error
  /shipments/accessorials/{invoiceId}:
    get:
      summary: Get invoice for a shipment
      description: Get invoice for a shipment
      operationId: getInvoice
      tags:
        - accessorials
      parameters:
        - in: path
          name: invoiceId
          type: string
          format: uuid
          required: true
          description: UUID of the invoice to fetch
      responses:
        200:
          description: returns invoice for an invoiceId
          schema:
            $ref: '#/definitions/Invoice'
        400:
          description: invalid request
        401:
          description: User not authenticated to get invoice
        403:
          description: User not permitted to get invoice for this shipment
        404:
          description: Invoice UUID not found in system
        500:
          description: server error
  /shipments/{shipmentId}/invoices:
    get:
      summary: Retrieve invoices associated with a shipment
      description: Gets a list of all invoices associated with a shipment.
      operationId: getShipmentInvoices
      tags:
        - shipments
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: list of invoices associated with shipment
          schema:
            $ref: '#/definitions/Invoices'
        400:
          description: invalid request
        403:
          description: not authorized to get list of invoices for this shipment
        404:
          description: Shipment UUID not found in system
        500:
          description: server error
  /shipments/{shipmentId}/accessorials:
    get:
      summary: Retrieve shipment line items associated with a shipment
      description: Gets a list of all shipment line items associated with a shipment.
      operationId: getShipmentLineItems
      tags:
        - accessorials
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
      responses:
        200:
          description: list of shipment line items associated with shipment
          schema:
            $ref: '#/definitions/ShipmentLineItems'
        400:
          description: invalid request
        403:
          description: not authorized to get list of shipment line items for this shipment
        404:
          description: Shipment UUID not found in system
        500:
          description: server error
    post:
      summary: Creates a new shipment line item associated with a shipment
      description: Creates a new shipment line item associated with a shipment
      operationId: createShipmentLineItem
      tags:
        - accessorials
      parameters:
        - name: shipmentId
          in: path
          type: string
          format: uuid
          required: true
          description: UUID of the shipment
        - in: body
          name: payload
          required: true
          schema:
            $ref: '#/definitions/ShipmentLineItem'
      responses:
        201:
          description: successfully created shipment line item for shipment
          schema:
            $ref: '#/definitions/ShipmentLineItem'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to add line items to this shipment
        417:
          description: failed to meet data requirements for line items
        500:
          description: server error
  /shipments/accessorials/{shipmentLineItemId}:
    put:
      summary: Updates a shipment line item
      description: Update a shipment line item with the given information
      operationId: updateShipmentLineItem
      tags:
        - accessorials
      parameters:
        - in: path
          name: shipmentLineItemId
          type: string
          format: uuid
          required: true
          description: UUID of the shipment line item model
        - in: body
          name: payload
          required: true
          schema:
            $ref: '#/definitions/ShipmentLineItem'
      responses:
        200:
          description: updated instance of shipment line
          schema:
            $ref: '#/definitions/ShipmentLineItem'
        400:
          description: invalid request
        401:
          description: request requires user authentication
        403:
          description: user is not authorized
        404:
          description: shipment line item not found
        500:
          description: internal server error
    delete:
      summary: delete the associated shipment line
      operationId: deleteShipmentLineItem
      tags:
        - accessorials
      parameters:
        - in: path
          name: shipmentLineItemId
          type: string
          format: uuid
          required: true
          description: the unique identifier for the shipment line
      responses:
        200:
          description: the shipment line item was successfully deleted
          schema:
            $ref: '#/definitions/ShipmentLineItem'
        400:
          description: invalid request
        401:
          description: must be authenticated to use this endpoint
        403:
          description: not authorized to access the associated shipment line item
        404:
          description: no shipment line item found with that UUID
        500:
          description: server error
  /shipments/accessorials/{shipmentLineItemId}/approve:
    post:
      summary: Updates a shipment line item to approve status
      description: Update a shipment line item with approve status
      operationId: approveShipmentLineItem
      tags:
        - accessorials
      parameters:
        - in: path
          name: shipmentLineItemId
          type: string
          format: uuid
          required: true
          description: UUID of the shipment line item model
      responses:
        200:
          description: shipment line item approved
          schema:
            $ref: '#/definitions/ShipmentLineItem'
        400:
          description: invalid request
        401:
          description: request requires user authentication
        403:
          description: user is not authorized
        404:
          description: shipment line item not found
        500:
          description: internal server error
  /tsps:
    get:
      summary: List all TSPs
      description: Gets a list of all the TSPs which the logged in user has access to.
      operationId: indexTSPs
      tags:
        - tsps
      x-access: Access to this endpoint is restricted to members of the Admin, Transcom & JPPSO user groups
      responses:
        200:
          description: list of TSPs
          schema:
            type: array
            items:
              $ref: '#/definitions/TSP'
        400:
          description: invalid request
        401:
          description: must be authenticated to access this endpoint
        500:
          description: server error
  /tsps/{tspId}/shipments:
    get:
      summary: Retrieve shipments associated with a TSP
      description: Gets a list of all shipments associated with a TSP. Shipments can be restricted to be in a certain state, e.g. AWARDED
      operationId: getTspShipments
      tags:
        - tsps
      x-access: Access to this endpoint is restricted to members of the Admin, Transcom and JPPSO user groups along with the agents of the TSP.
      parameters:
        - in: path
          name: tspId
          type: string
          format: uuid
          required: true
          description: UUID of the TSP
        - name: status
          in: query
          type: string
          required: false
          description: Status of shipments to load, e.g. AWARDED
        - name: order_by
          in: query
          type: string
          description: Sort the returned list according to this ordering
          enum:
            - PICKUP_DATE_ASC
            - PICKUP_DATE_DESC
            - DELIVERY_DATE_ASC
            - DELIVERY_DATE_DESC
        - name: limit
          in: query
          type: integer
          description: maximum number of records to return
          default: 25
        - name: offset
          in: query
          type: integer
          description: offset into records to begin selection from.
          default: 0
      responses:
        200:
          description: list of associated shipments
          schema:
            type: array
            items:
              $ref: '#/definitions/Shipment'
        400:
          description: invalid request
        403:
          description: not authorized to get list of shipments for this TSP
        404:
          description: TSP UUID not found in system
        500:
          description: server error
  /tsps/{tspId}/blackouts:
    get:
      summary: Retrieve a list of the blackouts associated with a TSP
      description: Gets a list of all blackouts associated with a TSP. Blackouts retrieved can be restricted by one or more
      operationId: getTspBlackouts
      tags:
        - tsps
      x-access: Access to this endpoint is restricted to members of the Admin, Transcom and JPPSO user groups along with the agents of the TSP.
      parameters:
        - in: path
          name: tspId
          type: string
          format: uuid
          required: true
          description: UUID of the TSP
        - in: query
          name: start_date
          type: string
          format: date
          description: restricts the search to blackout periods for which the endDate is after this date
        - in: query
          name: end_date
          type: string
          format: date
          description: restricts the search to blackout periods which startDate is before this date
        - in: query
          name: gbloc
          description: restricts the search to return blackout periods which originate from this GBLOC
          type: string
          pattern: '^[A-Z]{4}$'
        - in: query
          name: source_service_area
          type: string
          description: restricts the search to blackout periods with and explicit source service area
      responses:
        200:
          description: list of associated blackouts
          schema:
            type: array
            items:
              $ref: '#/definitions/BlackoutPayload'
        400:
          description: invalid request
        403:
          description: not authorized to get list of blackouts for this TSP
        404:
          description: TSP UUID not found in system
        500:
          description: server error
